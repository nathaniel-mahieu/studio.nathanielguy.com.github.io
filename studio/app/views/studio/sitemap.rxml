xml.instruct! :xml, :version=>"1.0", :encoding=>"UTF-8"

xml.urlset(:xmlns => 'http://www.google.com/schemas/sitemap/0.84') {
  
  #rhtml Pages
  views = ['index', 'search', 'slideshow', 'about', 'prints']
  views.each do |view|
    xml.url do
      xml.loc('http://studio.nathanielguy.com/' + view)
	  xml.lastmod(File.new("#{RAILS_ROOT}/app/views/studio/#{view}.rhtml", 'r').mtime.strftime('%Y-%m-%dT%H:%M:%S-05:00'))
    end
  end
  
  #rxml Pages
  views = ['rss', 'sitemap']
  views.each do |view|
    xml.url do
      xml.loc('http://studio.nathanielguy.com/' + view + '.xml')
	  xml.lastmod(File.new("#{RAILS_ROOT}/app/views/studio/#{view}.rxml", 'r').mtime.strftime('%Y-%m-%dT%H:%M:%S-05:00'))
    end
  end

  #Sub Pages
    xml.url do
      xml.loc('http://studio.nathanielguy.com/browse')
	  xml.lastmod(@last_picture.date_added.strftime('%Y-%m-%dT%H:%M:%S-05:00'))
    end
    xml.url do
      xml.loc('http://studio.nathanielguy.com/browse?catagory=reflection')
	  xml.lastmod(@last_picture.date_added.strftime('%Y-%m-%dT%H:%M:%S-05:00'))
    end
	xml.url do
      xml.loc('http://studio.nathanielguy.com/browse?catagory=nature')
	  xml.lastmod(@last_picture.date_added.strftime('%Y-%m-%dT%H:%M:%S-05:00'))
    end
	xml.url do
      xml.loc('http://studio.nathanielguy.com/browse?catagory=color')
	  xml.lastmod(@last_picture.date_added.strftime('%Y-%m-%dT%H:%M:%S-05:00'))
    end
	xml.url do
      xml.loc('http://studio.nathanielguy.com/browse?catagory=black%20and%20white')
	  xml.lastmod(@last_picture.date_added.strftime('%Y-%m-%dT%H:%M:%S-05:00'))
    end
  
  #Pictures
  @pictures.each do |pic|
    xml.url do
      xml.loc('http://studio.nathanielguy.com/' + filenamealize(pic.title))
	  xml.lastmod(pic.date_added.strftime('%Y-%m-%dT%H:%M:%S-05:00'))
    end
  end

  }